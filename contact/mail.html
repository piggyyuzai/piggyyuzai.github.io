<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!--保证手机端显示正常    初始，缩小，放大，不允许用户手动缩放页面-->
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimun-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <title>contact</title>
    <link rel="stylesheet" href="./mail.css" />
</head>
<body style="background-color:rgb(7,46,117)">
    <form class="contact" action="https://formspree.io/f/mwkdwlwq" method="post" onsubmit="return validateForm()">
      <label class="contact_title">let's talk</label>
      <label class="contact_label" for="name">name:</label>
      <input type="text" id="name" name="name" placeholder="your name...">
      <label class="contact_label" for="email">email address:</label>
      <input type="text" id="email" name="email" placeholder="your email address...">
      <label class="contact_label" for="subject">subject:</label>
      <input type="text" id="subject" name="subject" placeholder="subject...">
      <label class="contact_label" for="message">message:</label>
      <textarea id="message" name="message" placeholder="questions, feedback, commissions, etc etc..."></textarea>
      <div class="button_container">
        <button type="submit">submit</button>
      </div>
    </form>

    <script>
      function validateForm() {
        var name = document.getElementById("name").value;
        var email = document.getElementById("email").value;
        var subject = document.getElementById("subject").value;
        var message = document.getElementById("message").value;
        if (name === "" || email === "" || subject === "" || message === "") {
          alert("请填写所有输入框。");
          return false; // 阻止表单提交
        }
        return true; // 允许表单提交
      }
    </script>
</body>

<script src="../book/jquery.min.js"></script>
<script>
    $("#btn").on("click",function(){                //点击id为btn时,事件
        var obj = $("#content").serialize();        //获取id为content的form表单里面的内容。serialize，jQuery方法，用于序列化表单数据
        $.ajax({
            type:"post",						    //必须post请求
            url:"https://formspree.io/f/mwkdwlwq",  //接收的地址
            async:true,                             //使用async属性来指定Ajax请求是否是异步
            data:obj,
            dataType:"json",
            success: res=>{
                alert('邮件已发送!!!');   			//发送成功后的操作
            },
            error: res=>{
                alert("未知错误,发送失败");
            }
        });
    })
</script>
</html>